---
phase: 08-scroll-animations-site-wide
plan: 03
type: execute
wave: 2
depends_on: ["08-01"]
files_modified:
  - src/app/services/[slug]/ServiceDetailClient.tsx
  - src/app/pricing/page.tsx
autonomous: true

must_haves:
  truths:
    - "Service detail page 7-section layout uses GSAP scroll reveals (not Framer Motion variants)"
    - "Pricing overview page uses GSAP scroll reveals for hero, tier cards, hosting grid, FAQ"
    - "Service detail sections have varied animation effects matching section personality"
    - "Pricing tier cards stagger in with scale effect (not uniform fadeIn)"
  artifacts:
    - path: "src/app/services/[slug]/ServiceDetailClient.tsx"
      provides: "GSAP-animated service detail layout"
      contains: "useScrollAnimation"
    - path: "src/app/pricing/page.tsx"
      provides: "GSAP-animated pricing overview"
      contains: "useScrollAnimation"
  key_links:
    - from: "src/app/services/[slug]/ServiceDetailClient.tsx"
      to: "src/lib/scrollAnimations.ts"
      via: "imports animation presets"
      pattern: "import.*from.*@/lib/scrollAnimations"
    - from: "src/app/pricing/page.tsx"
      to: "src/hooks/useScrollAnimation.ts"
      via: "hook usage"
      pattern: "useScrollAnimation"
---

<objective>
Convert service detail pages and pricing overview page from Framer Motion to varied GSAP ScrollTrigger animations.

Purpose: Bring scroll animation variety to the service detail 7-section layout and the pricing overview page. These are high-traffic pages where uniform fadeIn is most noticeable.

Output: 2 files converted with multiple section animations each.
</objective>

<execution_context>
@C:/Users/sammy/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/sammy/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/08-scroll-animations-site-wide/08-01-SUMMARY.md
@src/lib/scrollAnimations.ts
@src/hooks/useScrollAnimation.ts
@src/app/services/[slug]/ServiceDetailClient.tsx
@src/app/pricing/page.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Convert ServiceDetailClient to GSAP ScrollTrigger</name>
  <files>src/app/services/[slug]/ServiceDetailClient.tsx</files>
  <action>
Convert the service detail page (432 lines) from Framer Motion scroll animations to GSAP ScrollTrigger.

Current state: Uses containerVariants + itemVariants (staggerChildren: 0.1, fadeIn with y:20). Applied uniformly across all 7 sections.

The 7-section layout has a dark/light rhythm. Assign a different scroll animation to each section type for variety:

1. **Hero section (navy):** Bold headline fadeUp with power3 easing (y:60, duration:0.9). Icon and badge: scaleReveal with 0.2s delay. Subtext: fadeUp with 0.15s delay.

2. **Features section (peach/5 cards):** Cards stagger with scaleReveal, 0.1s each, trigger on card grid container.

3. **Results section (text-7xl metrics):** Metrics fade up individually with increasing delays (0s, 0.15s, 0.3s) for dramatic reveal of big numbers.

4. **Why Choose Us section (peach/10 bg):** Heading fadeUp, 2x2 stat grid items stagger from center.

5. **Related Services section (dark bg):** Cards slide in from right (slideFromRight), staggered 0.12s.

6. **FAQ section:** Heading fadeUp, accordion container scaleReveal. Keep the interactive accordion open/close behavior — ONLY animate the section entrance, not the accordion expand/collapse. If the accordion uses Framer Motion AnimatePresence, KEEP IT.

7. **CTA section:** fadeUp cascade (heading, text, button with increasing delays).

Implementation approach:
- This file is a single client component with multiple section renders
- Use ONE `useScrollAnimation` call wrapping the entire page content
- Target sections by CSS class names (e.g., `.detail-hero`, `.detail-features`, `.detail-results`, etc.)
- Use `gsap.utils.toArray()` and `.forEach()` loops for repeating elements
- Remove: `import { motion, AnimatePresence } from "framer-motion"` — BUT check if AnimatePresence is used for FAQ accordion. If so, keep AnimatePresence import and its usage for the accordion only; remove motion.div usage for scroll reveals.
- Remove containerVariants and itemVariants objects
- Replace `<motion.div variants={...}>` with `<div className="detail-xxx" data-animate>`
- Keep all whileHover effects as CSS transitions (the cards already have CSS hover classes via data-cursor)
- Keep all content, layout, links, Tailwind classes unchanged

IMPORTANT: The file is 432 lines. Do NOT restructure or refactor the component. Only change animation-related code. Keep the exact same component structure.
  </action>
  <verify>
Run `npm run build` — no TypeScript errors. Visit /services/web-design — 7 sections animate with varied effects on scroll. FAQ accordion still opens/closes smoothly. No uniform fadeIn across all sections.
  </verify>
  <done>ServiceDetailClient uses GSAP ScrollTrigger with 5+ distinct animation effects across 7 sections. Interactive accordion preserved. Uniform containerVariants/itemVariants removed.</done>
</task>

<task type="auto">
  <name>Task 2: Convert Pricing overview page to GSAP ScrollTrigger</name>
  <files>src/app/pricing/page.tsx</files>
  <action>
Convert the pricing overview page (594 lines) from Framer Motion scroll animations to GSAP ScrollTrigger.

Current state: Multiple Framer Motion variant objects (heroVariants, heroItemVariants, tierGridVariants, tierCardVariants, hostingVariants, hostingCardVariants). Uses MotionConfig reducedMotion="user", useInView, motion.div with variants/whileInView/whileHover.

CRITICAL — What to convert vs what to keep:
- CONVERT: Scroll entrance animations (initial/animate/whileInView patterns) to GSAP ScrollTrigger
- KEEP: `whileHover` interactions on tier cards and pricing cards (scale, boxShadow, y:-8) — these are interactive hover effects, NOT scroll animations. Convert them to CSS Tailwind hover classes.
- KEEP: `layoutId="activeTab"` on the hosting/managed tab indicator — this is a layout animation, not scroll. Keep the `motion.div` with layoutId ONLY for this element.
- KEEP: FAQ accordion AnimatePresence/motion.div for expand/collapse — interactive animation

Implementation for each section:

**Hero (navy):** Remove heroVariants/heroItemVariants. Use useScrollAnimation:
- H1: fadeUp with y:50, duration:0.8, power3 ease, hero trigger
- Subtitle: fadeUp with 0.15s delay
- Billing toggle: fadeUp with 0.3s delay

**Tier Gateway Cards (white):** Remove tierGridVariants/tierCardVariants:
- Three cards: staggered scaleReveal with 0.12s each, trigger on card grid
- Tier card whileHover: Convert to Tailwind classes:
  - Social (scale): `hover:scale-[1.03] transition-transform duration-300`
  - Website (glow): `hover:shadow-[0_0_80px_rgba(226,121,94,0.3)] transition-shadow duration-300`
  - E-commerce (lift+shadow): `hover:-translate-y-2 hover:shadow-[0_20px_40px_rgba(5,23,51,0.15)] transition-all duration-300`

**Hosting/Managed Plans (navy):** Remove hostingVariants/hostingCardVariants, useInView:
- Section heading: fadeUp with standard trigger
- Tab row: fadeUp with 0.1s delay
- Tab description: fadeUp with 0.2s delay
- Plan cards grid: staggered fadeUp with 0.1s each
- "Included with every plan" line: fadeUp with 0.3s delay after cards
- PricingCard whileHover: Convert to Tailwind:
  - Hosting variant (lift+shadow): `hover:-translate-y-2 hover:shadow-[0_20px_40px_rgba(5,23,51,0.15)] transition-all duration-300`
  - Managed variant (glow): `hover:shadow-[0_0_80px_rgba(226,121,94,0.3)] transition-shadow duration-300`
- KEEP the `motion.div` with `layoutId="activeTab"` for the tab indicator spring animation. This requires keeping `import { motion } from "framer-motion"` but ONLY for the layoutId element.

**FAQ (white):** Heading fadeUp, FAQ container scaleReveal. Keep FAQ accordion AnimatePresence behavior. The FAQItem component uses motion.div for expand/collapse — KEEP this interactive animation.

Implementation:
- Remove MotionConfig wrapper (useScrollAnimation handles reduced motion)
- Remove heroVariants, heroItemVariants, tierGridVariants, tierCardVariants, hostingVariants, hostingCardVariants objects
- Remove `useInView` import and `const isInView = useInView(...)` usage
- Keep `import { motion } from "framer-motion"` for layoutId tab indicator AND FAQ accordion
- Keep `import { AnimatePresence } from "framer-motion"` if FAQItem uses it
- Use ONE useScrollAnimation call with scope on the main element
- Target sections by class names
- Replace motion.div (non-interactive ones) with plain div + targeting classes
- Add data-animate to scroll-animated elements
  </action>
  <verify>
Run `npm run build` — no TypeScript errors. Visit /pricing — hero animates on load, tier cards stagger with scale, hosting cards stagger on scroll. Tab switching still has spring animation. FAQ accordion still expands/collapses smoothly. Hover effects work on all cards.
  </verify>
  <done>Pricing overview uses GSAP ScrollTrigger for all scroll entrance animations. Interactive hover converted to CSS. Tab layoutId spring animation preserved. FAQ accordion preserved. 6 Framer Motion variant objects removed.</done>
</task>

</tasks>

<verification>
1. `npm run build` completes without errors
2. Visit /services/seo (or any service detail) — 7 sections have varied scroll animations
3. Visit /pricing — hero, tier cards, hosting cards all animate distinctly on scroll
4. Pricing tab switching still has spring animation (layoutId preserved)
5. FAQ accordions on both pages still expand/collapse smoothly
6. All hover effects work on cards (converted to CSS or preserved)
7. Scroll animations respect prefers-reduced-motion
</verification>

<success_criteria>
- 2 files modified (ServiceDetailClient.tsx, pricing/page.tsx)
- Service detail has 5+ distinct scroll animation effects across 7 sections
- Pricing overview has varied scroll animations (fadeUp, scaleReveal, stagger)
- Interactive animations preserved (tab indicator, FAQ accordion, hover states)
- Framer Motion variant objects removed (replaced by GSAP presets)
</success_criteria>

<output>
After completion, create `.planning/phases/08-scroll-animations-site-wide/08-03-SUMMARY.md`
</output>
