---
phase: 04-services-page-redesign
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - src/app/services/[slug]/page.tsx
autonomous: true

must_haves:
  truths:
    - "Each service detail page has dark/light section rhythm (not all-white or all-gradient)"
    - "Service detail hero uses navy background with oversized typography and edgy tagline"
    - "Features section uses a visually distinct layout (not just a checklist)"
    - "Results metrics are prominently displayed with bold typography"
    - "Service-specific FAQs render with coral accents matching homepage FAQ style"
    - "Related services section links to other services in the same category"
    - "Detail page copy is confident and direct, not generic"
    - "All 10 service detail pages build successfully via generateStaticParams"
  artifacts:
    - path: "src/app/services/[slug]/page.tsx"
      provides: "Redesigned service detail page with 6 sections and generateStaticParams"
      min_lines: 150
      contains: "generateStaticParams"
  key_links:
    - from: "src/app/services/[slug]/page.tsx"
      to: "src/lib/constants.ts"
      via: "services data import"
      pattern: "import.*services.*from.*constants"
    - from: "src/app/services/[slug]/page.tsx"
      to: "/services/[slug]"
      via: "related services links"
      pattern: "href.*services/"
    - from: "src/app/services/[slug]/page.tsx"
      to: "/contact"
      via: "CTA link"
      pattern: "href.*contact"
---

<objective>
Redesign the service detail pages (/services/[slug]) with a 6-section structure applying the dark/light rhythm, brand colors, bold typography, and edgy copy from Phase 3. Add generateStaticParams for static generation of all 10 service pages at build time.

Purpose: The current detail pages use the old gradient-based color scheme and generic copy ("What's Included", "Results That Speak for Themselves"). They need to match the personality established on the homepage and the services overview page.

Output: Fully redesigned service detail page template with 6 distinct sections and SSG support.
</objective>

<execution_context>
@C:/Users/sammy/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/sammy/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-services-page-redesign/04-CONTEXT.md
@.planning/phases/04-services-page-redesign/04-RESEARCH.md
@.planning/phases/03-homepage-visual-overhaul/03-02-SUMMARY.md

Key references (read these files for patterns):
@src/app/services/[slug]/page.tsx (current detail page to replace)
@src/components/sections/Hero.tsx (navy hero pattern, oversized typography)
@src/components/sections/Features.tsx (dark section with translucent cards, scale hover)
@src/components/sections/HomeFAQ.tsx (FAQ accordion with coral accents, edgy answers)
@src/components/sections/CTABanner.tsx (full-bleed dark CTA)
@src/components/sections/Comparison.tsx (lift+shadow hover on dark background)
@src/lib/constants.ts (services data: slug, title, category, description, features, results, serviceFaqs)
@src/lib/animations.ts (fadeIn, scaleIn, stagger presets)
@src/app/globals.css (brand colors, typography tokens, spacing tokens)
@src/components/ui/Container.tsx (Container sizes)
@src/components/ui/Button.tsx (Button variants)
@src/components/ui/MagneticButton.tsx (MagneticButton wrapper)
@src/components/ui/Icon.tsx (DynamicIcon component)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Redesign Service Detail Page with 6-Section Structure and generateStaticParams</name>
  <files>
    src/app/services/[slug]/page.tsx
  </files>
  <action>
Replace the entire service detail page. The current page uses old gradient backgrounds and generic copy. The new page must use brand color tokens (navy, coral, peach, blue) and have a distinct dark/light section rhythm.

**Add generateStaticParams at the top level (NOT inside the component):**
```tsx
import { services } from "@/lib/constants";

export function generateStaticParams() {
  return services.map((service) => ({ slug: service.slug }));
}
```
This enables SSG for all 10 service pages at build time.

**Page must be "use client"** because it uses Framer Motion and useState (for FAQ accordion). Since generateStaticParams is a server-side function, the pattern is: export generateStaticParams as a named export BEFORE the "use client" boundary. WAIT — in Next.js App Router, generateStaticParams works in the same file as "use client" because it runs at build time on the server regardless. However, the cleaner pattern is to NOT use "use client" on the page itself and instead extract the interactive FAQ component inline. Actually, the simplest approach: keep `"use client"` and export generateStaticParams — Next.js App Router supports this for dynamic route pages. The generateStaticParams runs server-side at build time regardless of the client directive.

CORRECTION: In Next.js App Router, `generateStaticParams` CANNOT be exported from a `"use client"` file. The fix is to extract the FAQ accordion into an inline component within the file but move generateStaticParams to a separate concern. The simplest approach: **Remove "use client" from the page level.** Use `<motion.*>` components via a thin client wrapper or use CSS-only animations. OR: create a separate `ServiceDetailContent` client component and keep the page as a server component.

**Recommended approach:** Make the page a server component that exports generateStaticParams. Create an inline `ServiceDetailClient` component marked "use client" that receives the service data as props and renders the full page content with Framer Motion. This is the cleanest Next.js pattern.

```tsx
// src/app/services/[slug]/page.tsx

import { services } from "@/lib/constants";
import { notFound } from "next/navigation";
import ServiceDetailClient from "./ServiceDetailClient"; // or inline

export function generateStaticParams() {
  return services.map((service) => ({ slug: service.slug }));
}

export default function ServicePage({ params }: { params: { slug: string } }) {
  const service = services.find((s) => s.slug === params.slug);
  if (!service) notFound();

  const relatedServices = services
    .filter((s) => s.category === service.category && s.slug !== service.slug)
    .slice(0, 3);

  return <ServiceDetailClient service={service} relatedServices={relatedServices} />;
}
```

ACTUALLY — to keep everything in one file per the plan's files_modified constraint, use this pattern: Define the client component inline in the same file using a separate "use client" boundary is NOT possible in a single file.

**Final approach:** Keep everything in ONE file. Use `"use client"` directive. Use `useParams()` to get the slug (current pattern). Export generateStaticParams as a named export. In Next.js 16 (which this project uses), `generateStaticParams` works even in client component files for dynamic routes — it executes at build time on the server. The current codebase already uses `useParams()` in the existing [slug]/page.tsx without generateStaticParams, so adding it is the improvement.

If build fails due to generateStaticParams in a client file, fall back to: remove "use client", replace all `motion.div` with regular `div`, and add animations later in Phase 8. But try the client + generateStaticParams approach first.

**6-Section Page Structure:**

**Section 1 — Hero (DARK - navy):**
- `<section className="bg-navy text-white py-24 md:py-36">`
- Container for content width
- Back link: `<Link href="/services">` with ArrowLeft icon, `text-white/50 hover:text-white`
- Category badge: `<span className="inline-block bg-coral/20 text-coral text-sm font-semibold px-4 py-1.5 rounded-full mb-6">`
- Service icon: DynamicIcon in `bg-white/10 backdrop-blur-sm rounded-2xl w-16 h-16` container
- Service title: `text-4xl md:text-5xl lg:text-6xl font-black text-white` — use the service.title directly
- Edgy tagline per service (NOT the existing description — write a NEW punchy one-liner per service). Map service slugs to custom taglines:
  - digital-marketing: "Campaigns that fill your pipeline, not just your dashboard."
  - seo: "Get found by people who are ready to buy."
  - social-media: "Show up where your customers actually hang out."
  - email-marketing: "The inbox is still king. We help you rule it."
  - ppc: "Every dollar tracked. Every click counts."
  - content-marketing: "Content that earns trust before you even shake hands."
  - web-design: "Websites that look like you, not like a template."
  - ecommerce: "Your 24/7 storefront, built to convert."
  - hosting: "Fast, secure, always on. We handle the boring stuff."
  - maintenance: "Updates, fixes, and peace of mind. On autopilot."
- Display tagline in `text-xl text-white/60 max-w-2xl`
- Staggered entrance animation

**Section 2 — Features (LIGHT - white):**
- `<section className="bg-white text-navy py-20 md:py-28">`
- Headline: `text-3xl md:text-4xl font-black` — "What You Get" (short, direct)
- Display features in a 2-column (md) / 3-column (lg) grid
- Each feature card: `bg-peach/5 border border-peach/20 rounded-2xl p-6` with a coral Check icon in a `bg-coral/10 rounded-full w-8 h-8` container + feature text in `font-medium text-navy`
- GLOW hover on feature cards (same pattern as ServicesPreview): outer glow div + inner content div
- Stagger entrance

**Section 3 — Results (DARK - navy):**
- `<section className="bg-navy text-white py-24 md:py-36">` (generous spacing for drama)
- Headline: `text-3xl md:text-5xl font-black` — "The Numbers Don't Lie" with coral accent
- 3 result metrics in a grid, each with:
  - Metric value: `text-5xl md:text-7xl font-black text-coral` (oversized, bold)
  - Description: `text-white/60 text-lg`
- If service.results is empty or undefined, skip this entire section with a conditional render
- Stagger entrance

**Section 4 — Why Choose Us (LIGHT - peach tinted):**
- `<section className="bg-peach/10 text-navy py-16 md:py-24">` (tighter spacing — rhythm variation)
- 2-column layout on lg: left side = headline + description + CTAs, right side = trust stats
- Headline: `text-3xl md:text-4xl font-black` — "Why OneSquad?" (keep it short)
- Body copy: Two paragraphs, edgy and direct. Use the same copy for all services (it's about OneSquad, not the specific service):
  - "We're not a faceless agency with a ticket queue. We're a small team that actually picks up the phone and knows your business by name."
  - "No 12-month contracts. No jargon. No surprises on the invoice. Just results you can measure and a team you can trust."
- CTAs: coral "Get Started" button (link /contact) + outline "View Pricing" button (link /pricing), both wrapped in MagneticButton
- Right side: 2x2 grid of trust stats in `bg-white rounded-xl p-6 shadow-lg` cards:
  - "29+" / "Websites Launched"
  - "24/7" / "Support Available"
  - "2-4 wk" / "Avg Launch Time"
  - "0" / "Long-term Contracts"
- Stat values in `text-3xl font-bold text-coral`

**Section 5 — Related Services (DARK - navy):**
- `<section className="bg-navy text-white py-20 md:py-28">`
- Headline: `text-2xl md:text-3xl font-bold` — "More From {categoryName}" where categoryName is "Digital Marketing" or "Web Solutions"
- 3 related service cards (same-category, excluding current) in a `grid md:grid-cols-3 gap-6`
- Card style: `bg-white/5 backdrop-blur-sm border border-white/10 rounded-2xl p-6` with lift+shadow hover (`whileHover={{ y: -6 }}` + `hover:shadow-lg hover:shadow-coral/10`)
- Card has icon, title, shortDescription, and "Learn More" link with ArrowRight
- Each card is a Link to `/services/${relatedService.slug}`
- If no related services, skip section

**Section 6 — Service FAQs (LIGHT - white):**
- `<section className="bg-white text-navy py-16 md:py-24">`
- Container size="md" for narrower content
- Headline: `text-3xl md:text-4xl font-black` — "Questions About {service.title}?" with coral accent
- FAQ accordion: Reuse the same visual pattern from HomeFAQ.tsx:
  - Wrapper: `bg-muted rounded-3xl p-6 md:p-10`
  - Question buttons: `font-bold` with `hover:text-coral transition-colors`
  - ChevronDown icon: `text-coral` when open, `text-navy/40` when closed
  - Answers: `text-navy/70`
  - Dividers: `border-navy/10`
  - AnimatePresence for open/close animation
- Add `data-cursor="button"` on FAQ question buttons
- If service.serviceFaqs is empty or undefined, skip section

**Bottom CTA — inline in page (DARK - navy):**
- `<section className="bg-navy text-white py-24 md:py-36">`
- Full-bleed dark closer matching CTABanner pattern
- Headline: `text-3xl md:text-5xl font-black` — "Ready To Get {service.title} Working For You?" with coral accent
- Subtext: "No contracts. No jargon. Just results."
- Dual CTAs: coral "Let's Talk" (/contact) + outline "See Our Plans" (/pricing)
- MagneticButton wrapping both

**404 handling:** If service not found, call `notFound()` from `next/navigation` (replaces the current inline 404 UI).

**Section rhythm:** dark -> light -> dark -> light -> dark -> light -> dark (7 sections total including bottom CTA)
  </action>
  <verify>
Run `npm run build` — all 10 service detail pages should be statically generated (check build output for /services/[slug] routes). Verify no TypeScript errors. Check that generateStaticParams produces all 10 slugs by looking at build output showing the service routes.
  </verify>
  <done>
Service detail page has 7 sections with dark/light alternation, oversized typography, edgy per-service taglines, brand color tokens (navy/coral/peach/blue), glow hover on features, lift+shadow hover on related services, coral-accented FAQ accordion, and full-bleed dark CTA. All 10 pages are statically generated via generateStaticParams.
  </done>
</task>

</tasks>

<verification>
1. `npm run build` passes — all 10 service detail pages generated (check build output)
2. Each service detail page has 7 sections with dark/light alternation
3. Hero uses navy background with oversized title and custom edgy tagline per service
4. Results section displays bold metrics (text-5xl+ coral numbers)
5. FAQ accordion has coral accents and AnimatePresence open/close
6. Related services section shows same-category services with lift+shadow hover
7. notFound() replaces old inline 404 UI
8. generateStaticParams exports all 10 service slugs
</verification>

<success_criteria>
- All 10 service detail pages render with the new 7-section layout
- Dark/light section rhythm is visible (navy/white/navy/peach/navy/white/navy)
- Each service has a custom edgy tagline (not the generic description)
- Results section has oversized metrics in coral
- FAQ accordion matches homepage FAQ visual style
- Related services link to other same-category services
- Build completes successfully with all routes statically generated
</success_criteria>

<output>
After completion, create `.planning/phases/04-services-page-redesign/04-02-SUMMARY.md`
</output>
